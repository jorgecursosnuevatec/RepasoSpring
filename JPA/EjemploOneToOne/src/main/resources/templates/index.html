<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Relaciones</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<h1>Datos del usuario</h1>
		<div class="card">
			<div class="card-body">
				<form th:action="@{/crearUsuario}" th:object="${usuario}" method="POST" id="userForm">
					<div>
						<div th:if="${usuario.id !=null}">
							<input type="text" th:field="${usuario.id}" readonly><br />
						</div>
						<br>
						<input type="text" placeholder="Nombre" th:field="${usuario.nombre}" />
						<input type="text" placeholder="Apellidos" th:field="${usuario.apellidos}" />
						<input type="text" placeholder="DNI" th:field="${usuario.dni.numero}" />
						<input type="text" placeholder="Codigo" th:field="${usuario.dni.codigo}" />
						<input type="text" placeholder="Edad" th:field="${usuario.edad}" />
						<input type="text" placeholder="Direccion" th:field="${usuario.direccion}" />
					</div>
					<br>
					<br>
					<input type="Submit" th:value="${usuario.id != null }?' Editar usuario':'Crear usuario'" class="btn btn-primary" />
					<th:block th:if="${usuario.id !=null}">
						<a class="btn btn-danger" th:href="@{/}">Cancel</a>
					</th:block>
				</form>
			</div>
		</div>
		<br>
		<h2>Usuarios registrados</h2>
		<br>
		<table class="table">
			<thead>
				<tr>
					<th>ID</th>
					<th>Nombre</th>
					<th>Apellidos</th>
					<th>Dni</th>
					<th>Codigo</th>
					<th>Edad</th>
					<th>Direccion</th>
					<th>Actiones</th>

				</tr>
			</thead>
			<tbody>
				<tr th:each="usuario : ${usuarios}">
					<td th:text="${usuario.id}"></td>
					<td th:text="${usuario.nombre}"></td>
					<td th:text="${usuario.apellidos}"></td>
					<td th:text="${usuario.dni.numero}"></td>
					<td th:text="${usuario.dni.codigo}"></td>
					<td th:text="${usuario.edad}"></td>
					<td th:text="${usuario.direccion}"></td>
					
					<td>
						<a class="btn btn-success" th:href="@{'/editarUsuario/'+ ${usuario.id}}">Editar </a> 
						<a class="btn btn-danger" th:href="@{'/eliminarUsuario/' + ${usuario.id}}">Eliminar</a>
					</td>
				</tr>

			</tbody>


		</table>
	</div>
</body>
</html>