<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lista Peliculas</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous" />
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css" />
<link th:href="@{css/lista.css}" rel="stylesheet" />
</head>

<body>

	<div th:insert="fragments/fragMenu :: menu"></div>

	<div class="container">
		<div th:insert="fragments/msgko :: msgko"></div>
	</div>

	<div class="container">
		<div th:insert="fragments/msgok :: msgok"></div>
	</div>


	<div>
		<ul class="list-group shadow" th:each="pelicula: ${listaPeliculas}">
			<!-- list group item-->


			<li class="list-group-item">
				<!-- Custom content-->
				<div class="media align-items-lg-center flex-column flex-lg-row p-3">
					<div class="media-body order-2 order-lg-1">
						<h5 class="mt-0 font-weight-bold mb-2"
							th:text="${pelicula.tituloPelicula}"></h5>
						<div
							class="d-flex align-items-center justify-content-between mt-1">
							<h6 class="font-weight-bold my-2"
								th:text="${pelicula.genero.tipoGenero}"></h6>
							<ul class="list-inline small">
								<li class="list-inline-item m-0"><i
									class="fa fa-star text-success"></i></li>
								<li class="list-inline-item m-0"><i
									class="fa fa-star text-success"></i></li>
								<li class="list-inline-item m-0"><i
									class="fa fa-star text-success"></i></li>
								<li class="list-inline-item m-0"><i
									class="fa fa-star text-success"></i></li>
								<li class="list-inline-item m-0"><i
									class="fa fa-star-o text-gray"></i></li>
							</ul>
						</div>

					</div>


					<div>



						<img
							th:if="${pelicula.portadaPelicula!=null and #strings.length(pelicula.portadaPelicula)>0}"
							th:src="@{'data:image/png;base64,' + ${pelicula.portadaPelicula}}"
							alt="Generic placeholder image" width="200"
							class="ml-lg-5 order-1 order-lg-2">
							<img
							th:unless="${pelicula.portadaPelicula!=null and #strings.length(pelicula.portadaPelicula)>0}"
							th:src="@{/images/Logo-MGM.jpg}" alt="Generic placeholder image"
							width="200" class="ml-lg-5 order-1 order-lg-2"
							style="float: left;">

						<p class="font-italic text-muted mb-0 small"
							th:text="${pelicula.sinopsisPelicula}"></p>
					</div>

				</div> 
			</li>
			<span
				class="d-flex align-items-center justify-content-center border-1 ">
				<form th:action="@{'prevModif/'+ ${pelicula.id}}" >
					<input type="submit" value="  Editar "
						class="btn btn btn-sm btn-primary" style="margin: 10px" />
				</form>
				<form th:action="@{'eliminarPeli/'+ ${pelicula.id}}" method="post">
					<input type="submit" value="Eliminar" class="btn btn-sm btn-danger"
						style="margin: 10px" />
				</form>

			</span>
			<!-- End -->
			<!-- list group item-->
		</ul>
		<nav th:replace="fragments/paginator-nav :: paginator"></nav>
	</div>


	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
		integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
		integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
		crossorigin="anonymous"></script>
</body>

</html>